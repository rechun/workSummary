

#### 打开网页的进程

* 浏览器进程
* GPU进程
* 网络进程
* 渲染进程
* 插件进程

浏览器底层工作原理

浏览器服务器通信

* IP：主机唯一标识
* TCP :包含端口号，每一个进程都有唯一的端口号
    * TCP握手连接进程端口和服务器
* HTTP请求
    * 主机通过TCP连接后发送HTTP请求去通信传递数据

![图片](https://uploader.shimo.im/f/8MYy4NMr6mWd8rBg.png!thumbnail?fileGuid=XqHGTWg6xTCKPqwr)





1. 输入url
    1. 浏览器会执行beforeunload事件
    2. 未监听函数的会直接跳转
    3. 按下回车后不是立刻跳转url，而是到服务器返回结果跳转
2. 发请求
3. 取缓存
    1. 没有  发送DNS请求去解析网址
    2. 解析过的网址在缓存中找到
4. 建立TCP链接
    1. 利用IP地址和服务器建立TCP链接
    2. 链接建立后，浏览器端构建请求行、请求头。
        1. 把和该域名相关的cookie数据附加到请求头中
        2. 然后向服务器发送构建的请求信息
5. 服务器响应数据
6. 重定向
    1. 接收到服务器返回的响应头后，网络进程开始解析响应头
    2. 返回301或302
        1. 服务器需要浏览器重定向到其他URL
7. 响应类型content-type
    1. HTML:
        1. 浏览器会继续进行导航流程
    2. application/octet-stream 浏览器会按照下载类型来处理该请求
8. 开始渲染
    1. 网络进程拿到服务器所返回的数据后
    2. 会给浏览器进程一个提示
    3. 浏览器进程就将网络进程与渲染进程链接起来
    4. 渲染进程数据接收完毕后会给浏览器发送消息
    5. 浏览器进程收到消息后会更新浏览器界面状态
        1. 安全状态
        2. 地址栏的、URL
        3. 前进后退的历史状态
    6. 更新web页面
    7. 一旦页面生成完成，渲染进程会发送一个消息给浏览器进程
    8. 浏览器接收到消息后，会停止标签图标上的加载动画




